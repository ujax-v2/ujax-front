# λ°±μ—”λ“ μ—°κ²°μ„± λ° λ³΄μ• μ κ²€ λ¦¬ν¬νΈ (Connectivity & Security Report)

## 1. API μ—°κ²° μ•„ν‚¤ν…μ² (API Connectivity Architecture)

### ν•μ΄λΈλ¦¬λ“ λ¨λ“ (Mock vs Real)
ν„μ¬ ν”„λ΅ νΈμ—”λ“(`src/api/client.ts`)λ” **Mock λ°μ΄ν„°μ™€ μ‹¤μ  API νΈμ¶μ„ μ§€λ¥μ μΌλ΅ μ „ν™**ν•λ„λ΅ μ„¤κ³„λμ—μµλ‹λ‹¤.

- **μλ™ κ°μ§€**: `checkBackendConnection()` ν•¨μκ°€ μ•± μ‹μ‘ μ‹ λ°±μ—”λ“ μƒνƒλ¥Ό ν™•μΈν•©λ‹λ‹¤.
- **μ¥μ•  μ΅°μΉ (Failover)**: λ°±μ—”λ“ μ—°κ²°μ΄ λ¶κ°€λ¥ν•κ±°λ‚ νƒ€μ„μ•„μ›ƒ λ°μƒ μ‹, μλ™μΌλ΅ Mock λ¨λ“λ΅ μ „ν™λμ–΄ ν”„λ΅ νΈμ—”λ“ κ°λ°μ„ μ§€μ†ν•  μ μμµλ‹λ‹¤.
- **κ°λ° μƒμ‚°μ„±**: λ°±μ—”λ“ μ„λ²„ μ—†μ΄λ„ UI/UX κ°λ°μ΄ κ°€λ¥ν•©λ‹λ‹¤.

### API κµ¬ν„ ν„ν™©
- **μΈμ¦ (Auth)**: `/api/v1/auth/login` (POST) λ° OAuth μ½λ°± μ²λ¦¬κ°€ κµ¬ν„λμ–΄ μμµλ‹λ‹¤.
- **μ‚¬μ©μ (User)**: `/api/v1/users/me` μ—”λ“ν¬μΈνΈλ¥Ό ν†µν•΄ μ‚¬μ©μ μ •λ³΄λ¥Ό κ°€μ Έμ¬ κ²ƒμΌλ΅ μμƒν•©λ‹λ‹¤.
- **μ›ν¬μ¤νμ΄μ¤ (Workspace)**: `/api/v1/workspaces` μ—”λ“ν¬μΈνΈλ¥Ό ν†µν• CRUD μ‘μ—…μ΄ μμƒλ©λ‹λ‹¤.

## 2. ν™κ²½ μ„¤μ • μ κ²€ (Environment Check)

### ν”„λ΅μ‹ μ„¤μ • (Proxy Configuration)
`vite.config.ts`μ— λ”°λ¥΄λ©΄ κ°λ° μ„λ²„λ” `/api` μ”μ²­μ„ `http://localhost:8080`μΌλ΅ ν”„λ΅μ‹ν•©λ‹λ‹¤.
λ°±μ—”λ“ μ„λ²„κ°€ λ΅μ»¬ 8080 ν¬νΈμ—μ„ μ‹¤ν–‰ μ¤‘μ΄λΌλ©΄ λ³„λ„μ μ„¤μ • μ—†μ΄ λ°”λ΅ μ—°λ™λ©λ‹λ‹¤.

### ν™κ²½ λ³€μ (.env)
- `.env.example` νμΌμ„ μ κ³µν•μ€μΌλ―€λ΅, μ‹¤μ  λ°°ν¬ μ‹μ—λ” `.env` νμΌμ„ μƒμ„±ν•μ—¬ `VITE_API_BASE_URL` λ“±μ„ μ„¤μ •ν•΄μ•Ό ν•©λ‹λ‹¤.
- OAuth λ¦¬λ‹¤μ΄λ ‰νΈ URI λ“±μ€ ν™κ²½μ— λ”°λΌ λ‹¬λΌμ§ μ μμΌλ―€λ΅ μ£Όμκ°€ ν•„μ”ν•©λ‹λ‹¤.

## 3. λ³΄μ• μ·¨μ•½μ  λ° κ°μ„  κ¶κ³  (Security Audit)

### π¨ μ¤‘μ”: ν† ν° μ €μ¥ λ°©μ‹ (Token Storage)
ν„μ¬ `Access Token`κ³Ό `Refresh Token`μ„ **`localStorage`μ— μ €μ¥**ν•κ³  μμµλ‹λ‹¤.

- **μ„ν— μ”μ†**: XSS(κµμ°¨ μ‚¬μ΄νΈ μ¤ν¬λ¦½ν…) κ³µκ²©μ— μ·¨μ•½ν•©λ‹λ‹¤. μ•…μ„± μ¤ν¬λ¦½νΈκ°€ `localStorage`λ¥Ό νƒμ·¨ν•μ—¬ ν† ν°μ„ ν›”μΉ  μ μμµλ‹λ‹¤.
- **κ°μ„  κ¶κ³ μ•**:
    1. **Refresh Token**: λ°±μ—”λ“μ—μ„ **`HttpOnly Cookie`**λ΅ μ„¤μ •ν•λ„λ΅ λ³€κ²½ν•΄μ•Ό ν•©λ‹λ‹¤. (μλ°”μ¤ν¬λ¦½νΈ μ ‘κ·Ό λ¶κ°€)
    2. **Access Token**: λΈλΌμ°μ € λ©”λ¨λ¦¬(Recoil State)μ—λ§ μ μ§€ν•κ³ , νμ΄μ§€ μƒλ΅κ³ μΉ¨ μ‹ `refresh` μ—”λ“ν¬μΈνΈλ¥Ό ν†µν•΄ μ¬λ°κΈ‰λ°›λ” λ°©μ‹μ„ κ¶μ¥ν•©λ‹λ‹¤.
    3. **μ΄μ¤‘ λ³΄μ•**: CSRF λ°©μ–΄λ¥Ό μ„ν•΄ `SameSite` μΏ ν‚¤ μ†μ„±μ„ ν™μ©ν•μ„Έμ”.

### CORS μ„¤μ •
λ°±μ—”λ“ μ„λ²„λ” λ‹¤μ μ¤λ¦¬μ§„(Origin)μ—μ„μ μ”μ²­μ„ ν—μ©ν•΄μ•Ό ν•©λ‹λ‹¤:
- κ°λ° ν™κ²½: `http://localhost:5173`
- ν”„λ΅λ•μ…: `https://your-domain.com`
(Nginx λ¦¬λ²„μ¤ ν”„λ΅μ‹ μ‚¬μ© μ‹ Same-OriginμΌλ΅ μ²λ¦¬λμ–΄ CORS μ΄μκ°€ μ™„ν™”λ  μ μμµλ‹λ‹¤.)

### OAuth λ¦¬λ‹¤μ΄λ ‰νΈ μ²λ¦¬
ν„μ¬ OAuth μ½λ°±(`OAuthCallback.tsx`)μ—μ„ URL νλΌλ―Έν„°λ΅ μ „λ‹¬λ ν† ν°μ„ μ½κ³  μμµλ‹λ‹¤.
- URLμ— ν† ν°μ΄ λ…Έμ¶λλ©΄ λΈλΌμ°μ € νμ¤ν† λ¦¬λ‚ λ΅κ·Έμ— λ‚¨μ„ μ μμµλ‹λ‹¤.
- κ°€λ¥ν•λ©΄ λ°±μ—”λ“μ—μ„ **μΏ ν‚¤(Cookie)**λ¥Ό ν†µν•΄ μ„Έμ…μ„ μ „λ‹¬ν•κ±°λ‚, μ§§μ€ μλ…μ μΌνμ© μ½”λ“(Code)λ¥Ό κµν™ν•λ” λ°©μ‹μ„ κ¶μ¥ν•©λ‹λ‹¤.
